# 2.4 多重链接结构

- 含义：每个节点中有若干个链接字段，而非一两个。
- 例子：翻译COBOL
  - 描述字段的规则
    1. 每个名称紧前头都有称为它的层次号的关联正整数。名称或者指初等项，或者它是名称所跟着的一个或多个项的组的名称。在后一种情况下，这个组的每项必须有相同的层次号。
    2. 为访问名为$A_0$的一个初等项或项的组，一般形式为：$A_0$ `OF` $A_1$ `OF` $\cdots$ `OF` $A_n$，其中$n \ge 0$，而且对于$0 \le j \le n$，$A_j$是直接或间接地在称为$A_{j+1}$的组之内的某项的名称。必定有恰好一项$A_0$满足条件。
    3. 如果在若干个位置出现同一个名字$A_0$，则必须有办法通过条件限制访问其中的每一个。
  - 访问许多项：`MOVE CORRESPONDING` $\alpha$ `TO` $\beta$，可以把具有相应名字的所有项从数据区域$\alpha$移动到数据区域$\beta$去。
  - 操作
    1. 处理名字和层次号的描述，应把相关信息放入编译程序内的表格中供在操作2和操作3中使用。
    2. 确定如规则2中那样给定的合格访问是否有效，而当有效时，要找出对应的数据项的位置。
    3. 找出由给定的CORRESPONDING语句指出的所有对应的项目对。
  - 结构设置
    - PREV：对于具有相同名字的以前条目的链接。
    - PARENT：对于包含这个项的最小组的链接。
    - NAME：对于这个项的符号表条目的链接。
    - CHILD：对于组的第一个子项的链接。
    - SIB：对包含这个项的组的下一个子项的链接。

### 习题

> 1

先根序。

> 2

和项目的数目成正比，每个项目进栈一次、出栈一次。

> 3

再记录一个上一层节点的L2。A5中除了比较L1和L之外，还要比较L2和L。

> 4

每次插入之后都进行一遍检查，检查以每一层节点作为引用，能否找到唯一的项目。

> 7

SALES同PURCHASES相同的项全部移到PURCHASES下，即除了BUYER。

> 8

$\alpha$和$\beta$都是原子。