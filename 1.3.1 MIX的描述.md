## 1.3.1 MIX的描述

- 字

  - 以MIX语言表达的程序应该被写成，一个字节所具有的值不会超过64个。
  - 一个计算机字由五个字节和一个符号组成。符号部分仅有两个可能的值，即+和-。

- 寄存器

  - A寄存器（累加器）由五个字节和一个符号组成。
  - X寄存器（扩充）由五个字节和一个符号组成。
  - I寄存器（变址寄存器）I1、I2、I3、I4、I5、I6各拥有两个字节和一个符号。
  - J寄存器（转移地址）拥有两个字节，它的符号总为+。

- 指令格式

  | 0    | 1    | 2    | 3    | 4    | 5    |
  | ---- | ---- | ---- | ---- | ---- | ---- |
  | ±    | A    | A    | I    | F    | C    |

  - C是指出执行的是什么的操作码。
  - F保存对操作码的修改。它通常是一个字段说明(L:R) = 8L + R。
  - ±AA是地址。
  - I字段是变址说明，它可用来修改有效地址。如果I=0，地址±AA不作改动地被使用。否则I应包含1和6之间的一个数i，并且在实现指令的操作之前，变址寄存器Ii的内容被代数地加到±AA上，结果被用作地址。使用M来表示在特定的变址已经出现之后的地址。

- 记号

  - 语法：`OP ADDRESS, I(F)`，OP是对指令的操作码（C部分）给出的一个符号名，ADDRESS是±AA部分，I和F分别表示I字段和F字段。

- 每条指令的规则

  - 装入操作符（2个单元时间）
    - LDA（装入A），C=8，F=字段。
    - LDX（装入X），C=15，F=字段。
    - LDi（装入i），C=8+i，F=字段。
    - LDAN（把负的装入A），C=16，F=字段。
    - LDXN（把负的装入X），C=23，F=字段。
    - LDiN（把负的装入i），C=16+i，F=字段。
  - 存储操作符（2个单元时间）
    - STA（存A），C=24，F=字段。字段中的字节数是从寄存器右边部分取的。
    - STX（存X），C=31，F=字段。
    - STi（存i），C=24+i，F=字段。
    - STJ（存J），C=32，F=字段。F的正常描述是(0:2)而不是(0:5)。
    - STZ（存零），C=33，F=字段。
  - 算术运算符
    - ADD（加法），C=1，F=字段，2个单元时间。
    - SUB（减法），C=2，F=字段，2个单元时间。
    - MUL（乘法），C=3，F=字段，10个单元时间。结果存放在rA和rX中。
    - DIV（除法），C=4，F=字段，12个单元时间。用rAX除以V，商放在rA中，余数放在rX中。
  - 地址传送操作符
    - ENTA（进入A），C=48，F=2。如果M=0，则装入指令的符号。
    - ENTX（进入X），C=55，F=2。
    - ENTi（进入i），C=48+i，F=2。
    - ENNA（进入负的A），C=48，F=3。
    - ENNX（进入负的X），C=55，F=3。
    - ENNi（进入负的i），C=48+i，F=3。
    - INCA（A增值），C=48，F=0。
    - INCX（X增值），C=55，F=0。溢出不会影响rA。
    - INCi（i增值），C=48+i，F=0。如果出现溢出则本指令的结果无定义。
    - DECA（A减值），C=48，F=1。
    - DECX（X减值），C=55，F=1。
    - DECi（i减值），C=48+i，F=1。
  - 比较操作符：寄存器比内存。负的零等于正的零。
    - CMPA（比较A），C=56，F=字段。比较rA和CONTENTS(M)的相同字段。
    - CMPX（比较X），C=63，F=字段。
    - CMPi（比较i），C=56+i，F=字段。变址寄存器的字节1、2和3被当作零。
  - 转移操作符
    - JMP（转移），C=39，F=0。
    - JSJ（转移，保持J不变），C=39，F=1。
    - JOV（溢出时转移），C=39，F=2。
    - JNOV（无溢出时转移），C=39，F=3。
    - JL、JE、JG、JGE、JNE、JLE（小于转移、相等时转移、大于转移、大于等于转移、不相等时转移、小于等于转移），C=39，F=4，5，6，7，8，9。
    - JAN、JAZ、JAP、JANN、JANZ、JANP（A为负时转移、A为零时转移、A为正时转移、A为负时转移、A非零时转移、A非正时转移），C=40，F=0，1，2，3，4，5。
    - JXN、JXZ、JXP、JXNN、JXNZ、JXNP（X为负时转移、X为零时转移、X为正时转移、X为负时转移、X非零时转移、X非正时转移），C=47，F=0，1，2，3，4，5。
    - JiN、JiZ、JiP、JiNN、JiNZ、JiNP（i为负时转移、i为零时转移、i为正时转移、i为负时转移、i非零时转移、i非正时转移），C=40+i，F=0，1，2，3，4，5。
  - 其他操作符
    - SLA、SRA、SLAX、SRAX、SLC、SRC（A左移、A右移、AX左移、AX右移，AX循环左移、AX循环右移），C=6，F=0，1，2，3，4，5。
    - MOVE（移动），C=7，F=数，1个单元时间加上每移动一个字再花费2个单元时间。由F指定的字数被移动，由单元M开始移动到变址寄存器1的内容所指定的单元。一次传送一个字，在本操作结束时rI1的值加上了F的值。但如果F=0，则什么事情也不做。标准的F为1。
    - NOP（空操作），C=0。
    - HLT（停机），C=5，F=2。
  - 输入输出操作符
    - IN（输入），C=36，F=设备。
    - OUT（输出），C=37，F=设备。
    - IOC（输入输出控制），C=35，F=设备。
      - 磁带：如果M=0，磁带被反绕。如果M<0，磁带向后跳过M个块，或跳到磁带的开始处，看哪一种情况先出现。如果M<0，磁带就向前跳。
      - 磁盘或磁鼓：M应为零。
      - 行式打印机：M应为零。"IOC 0(18)"使打印机跳到下一页纸的底部。
      - 纸带输入机：M应为零。"IOC 0(20)"反绕纸带。
    - JRED（就绪转移），C=38，F=设备。
    - JBUS（忙碌转移），C=34，F=设备。
  - 转换操作符
    - NUM（转换成数值），C=5，F=0，10个单位时间。
    - CHAR（转换成字符），C=5，F=1，10个单位时间。

### 习题

> 1

4个。

> 2

5个。

> 4

假设变址寄存器4中有大于或等于2000的值。

> 5

`DIV -80, 3(0:5)`

> 6

(a) rA变成`- 5 1 2000 15`。

(b) rI2变成`+ 0 0 0 200`。

(c) rX变成`+ 0 0 5 1 ?`。

(d) 无定义。

(e) rX变成`- 0 0 0 0 0`。

> 8

rA: `+ 0 617 0 1`

rX: `- 0 0 0 1 1`

> 9

ADD、SUB、DIV、NUM、INCA、INCX、DECA、DECX、JOV、JNOV。

> 10

CMP。

> 11

LD1、LD1N、ENT1、ENN1、INC1、DEC1、MOVE

> 12

`INC3 0, 3`。

> 13

溢出开关仍然置位。

造成rJ的不同设置。

可能造成死锁。

> 16

```
STZ 0
ENT1 1
MOVE 0, (49)
MOVE 0, (50)
```

> 17

```
ST2 3000
STZ 0
LD1 0
MOVE 0, 1
CMP2 3000
JL 3003
```

> 18



> 19

42u。









